<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="lvaudor">

<title>business_fortunes - Fortunes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="site_libs/react-17.0.0/react.min.js"></script>
<script src="site_libs/react-17.0.0/react-dom.min.js"></script>
<script src="site_libs/reactwidget-1.0.0/react-tools.js"></script>
<script src="site_libs/htmlwidgets-1.6.0/htmlwidgets.js"></script>
<link href="site_libs/reactable-0.4.3/reactable.css" rel="stylesheet">
<script src="site_libs/reactable-binding-0.4.3/reactable.js"></script>


</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Fortunes</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>lvaudor </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<div class="cell" data-hash="report_cache/html/setup_313d70027ea0028e40a3cb100b7cb003">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
✔ ggplot2 3.4.0      ✔ purrr   0.3.5 
✔ tibble  3.1.8      ✔ dplyr   1.0.10
✔ tidyr   1.2.1      ✔ stringr 1.5.0 
✔ readr   2.1.3      ✔ forcats 0.5.2 
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glitter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>On s’inspire des données renseignées pour l’item Amazon pour identifier les descripteurs qui nous intéressent…</p>
<div class="cell" data-hash="report_cache/html/explore_Amazon_5ab651ae5627cf17eaf55fb1cb902d66">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>WikidataR<span class="sc">::</span><span class="fu">find_item</span>(<span class="st">"Amazon"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Wikidata item search

Number of results:   10 

Results:
1    Amazon (Q3884) - American multinational technology company 
2    Amazon (Q3783) - river in South America 
3    Amazons (Q134154) - warrior women from Greek mythology 
4    Mary Celeste (Q33209) - Ship found abandoned in the Atlantic Ocean in 1872 
5    Amazon (Q456065) - interactive fiction computer game with graphics 
6    Amazon (Q771908) - 2000 film by Philippe de Broca 
7    amazon (Q647433) - fairy chess piece that can move like a queen or a knight 
8    Amazonas (Q40040) - state in the North Region of Brazil 
9    Amazon (Q688422) - syndicated television show created by Peter Benchley 
10   Amazon rainforest (Q177567) - rainforest in South America </code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>Amazon_claims<span class="ot">=</span>glitter<span class="sc">::</span><span class="fu">get_claims</span>(<span class="st">"wd:Q3884"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>L’item doit être de type (P31)</p>
<ul>
<li><p>Q4830453 business</p></li>
<li><p>Q6881511 enterprise</p>
<p>Les <strong>propriétés</strong> qui peuvent nous intéresser:</p></li>
<li><p>P2137 total equity</p></li>
<li><p>P2139 total revenue</p></li>
<li><p>P2295 net profit</p></li>
<li><p>P2403 total assets</p></li>
<li><p>P3362 operating income</p></li>
<li><p>P159 headquarters location</p></li>
<li><p>P154 logo image</p></li>
<li><p>P17 country</p></li>
</ul>
<section id="formulation-et-envoi-de-la-requête" class="level2">
<h2 class="anchored" data-anchor-id="formulation-et-envoi-de-la-requête">Formulation et envoi de la requête</h2>
<div class="cell" data-hash="report_cache/html/query_dd0b06ccd66f0d43aa65eec13e081f7a">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>tib_fortunes<span class="ot">=</span><span class="fu">spq_init</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#entreprise a pour revenu ?total_revenue</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spq_add</span>(<span class="st">"?enterprise p:P2139 ?r"</span>, <span class="at">.label=</span><span class="st">"?enterprise"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spq_add</span>(<span class="st">"?r ps:P2139 ?total_revenue"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#total_revenue vaut pour la date ?total_revenue_date</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spq_add</span>(<span class="st">"?r pq:P585 ?total_revenue_date"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#entreprise a pour profit net ?net_profit</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spq_add</span>(<span class="st">"?enterprise wdt:P2295 ?net_profit"</span>, <span class="at">.required=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#?entreprise a pour actifs totaux ?total_assets</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spq_add</span>(<span class="st">"?enterprise wdt:P2403 ?total_assets"</span>, <span class="at">.required=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#?entreprise a pour résultat d'exploitation ?operating_income</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spq_add</span>(<span class="st">"?enterprise wdt:P3362 ?operating_income"</span>, <span class="at">.required=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">#?entreprise a pour pays ?country</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spq_add</span>(<span class="st">"?enterprise wdt:P17 ?country"</span>, <span class="at">.label=</span><span class="st">"?country"</span>,) <span class="sc">%&gt;%</span> </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="co">#?entreprise est de type "business" ou "enterprise"</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spq_filter</span>(enterprise<span class="sc">==</span>wdt<span class="sc">::</span><span class="fu">P31</span>(types)) <span class="sc">%&gt;%</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spq_set</span>(<span class="at">types =</span> <span class="fu">c</span>(<span class="st">"wd:Q4830453"</span>,<span class="st">"wd:Q6881511"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">#?entreprise est localisée à ?headquarters </span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spq_add</span>(<span class="st">"?enterprise wdt:P159 ?headquarters"</span>,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>          <span class="at">.label=</span><span class="st">"?headquarters"</span>,<span class="at">.required=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#?enterprise a pour coordonnées géographiques ?enterprise_loc</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spq_add</span>(<span class="st">"?enterprise wdt:P625 ?enterprise_loc"</span>,<span class="at">.required=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spq_perform</span>()</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(tib_fortunes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32267    14</code></pre>
</div>
</div>
</section>
<section id="rajoute-les-localisations-des-headquarters-si-localisation-de-lentreprise-non-renseignée" class="level2">
<h2 class="anchored" data-anchor-id="rajoute-les-localisations-des-headquarters-si-localisation-de-lentreprise-non-renseignée">Rajoute les localisations des headquarters si localisation de l’entreprise non renseignée</h2>
<div class="cell" data-hash="report_cache/html/tib_headquarters_1d89218a1dce55938a6d7b3b1929f2a5">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>tib_headquarters<span class="ot">=</span>tib_fortunes <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(enterprise_loc)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_wikidata_table</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(headquarters, headquartersLabel) <span class="sc">%&gt;%</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n=</span><span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>(),</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">ntot=</span><span class="fu">n</span>(),</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">p=</span>n<span class="sc">/</span>ntot) <span class="sc">%&gt;%</span> </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">slice=</span><span class="fu">cut</span>(p,<span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="at">by=</span><span class="fl">0.05</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(slice) <span class="sc">%&gt;%</span> </span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'headquarters'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>getloc<span class="ot">=</span><span class="cf">function</span>(data){</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  list_headquarters<span class="ot">=</span>data<span class="sc">$</span>headquarters</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  tib<span class="ot">=</span><span class="fu">spq_init</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">spq_add</span>(<span class="st">"?headquarters wdt:P625 ?headquarters_loc"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">spq_set</span>(<span class="at">headquarters=</span>list_headquarters) <span class="sc">%&gt;%</span> </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">spq_perform</span>()</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(tib)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>tib_headquarters<span class="ot">=</span>tib_headquarters <span class="sc">%&gt;%</span> </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">data=</span>purrr<span class="sc">::</span><span class="fu">map</span>(data,getloc)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(<span class="at">cols=</span>data) <span class="sc">%&gt;%</span> </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>slice) <span class="sc">%&gt;%</span> </span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_wikidata_table</span>()</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>tib_fortunes<span class="ot">=</span>tib_fortunes <span class="sc">%&gt;%</span> </span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>   <span class="fu">clean_wikidata_table</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>   <span class="fu">left_join</span>(tib_headquarters,<span class="at">by=</span><span class="st">"headquarters"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exporte-la-table" class="level2">
<h2 class="anchored" data-anchor-id="exporte-la-table">Exporte la table</h2>
<div class="cell" data-hash="report_cache/html/unnamed-chunk-1_cc960151888cfb15f5353cc05dbad736">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>tib_fortunes<span class="ot">=</span>tib_fortunes <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_revenue_year=</span>lubridate<span class="sc">::</span><span class="fu">year</span>(total_revenue_date),</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">headquarters_loc=</span><span class="fu">case_when</span>(<span class="sc">!</span><span class="fu">is.na</span>(enterprise_loc)<span class="sc">~</span>enterprise_loc,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>                                    <span class="cn">TRUE</span><span class="sc">~</span>headquarters_loc))</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>tib_fortunes_export<span class="ot">=</span>tib_fortunes <span class="sc">%&gt;%</span> </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">enterprise=</span>enterpriseLabel,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>         total_revenue,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>         total_revenue_year,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>         net_profit,</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>         total_assets,</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>         operating_income,</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">country=</span>countryLabel,</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">headquarters=</span>headquartersLabel,</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>         headquarters_loc)</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv2</span>(tib_fortunes_export,<span class="st">"data/fortunes.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exhaustivitéqualité-des-données" class="level1">
<h1>Exhaustivité/qualité des données</h1>
<section id="combien-dentreprises-aux-usa" class="level2">
<h2 class="anchored" data-anchor-id="combien-dentreprises-aux-usa">Combien d’entreprises aux USA?</h2>
<div class="cell" data-hash="report_cache/html/enterprise_USA_f3687c2fe8435bba2191aaf25b3eb8f5">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>tib_fortunes<span class="ot">=</span><span class="fu">read.csv2</span>(<span class="st">"data/fortunes.csv"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transform_wikidata_coords</span>(<span class="st">"headquarters_loc"</span>,<span class="at">prefix=</span><span class="st">"headquarters_"</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>tib_fortunes_USA<span class="ot">=</span>tib_fortunes <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country<span class="sc">==</span><span class="st">"United States of America"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(enterprise,total_revenue_year,headquarters_lat,headquarters_lng) <span class="sc">%&gt;%</span> </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_revenue=</span><span class="fu">unique</span>(total_revenue)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(enterprise,total_revenue,total_revenue_year,headquarters_lat, headquarters_lng) <span class="sc">%&gt;%</span> </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(<span class="at">names_from=</span>total_revenue_year,</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values_from=</span>total_revenue,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>                     <span class="at">names_prefix=</span><span class="st">"year_"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(year_2022)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(enterprise,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>         headquarters_lat, headquarters_lng,</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>         year_2019,</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>         year_2020,</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>         year_2021,</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>         year_2022)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'enterprise', 'total_revenue_year',
'headquarters_lat', 'headquarters_lng'. You can override using the `.groups`
argument.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Values from `total_revenue` are not uniquely identified; output will contain list-cols.
* Use `values_fn = list` to suppress this warning.
* Use `values_fn = {summary_fun}` to summarise duplicates.
* Use the following dplyr code to identify duplicates.
  {data} %&gt;%
    dplyr::group_by(enterprise, headquarters_lat, headquarters_lng, total_revenue_year) %&gt;%
    dplyr::summarise(n = dplyr::n(), .groups = "drop") %&gt;%
    dplyr::filter(n &gt; 1L)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>reactable<span class="sc">::</span><span class="fu">reactable</span>(tib_fortunes_USA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="reactable html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-b7748bded0f54449d763" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b7748bded0f54449d763">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"enterprise":["Walmart","TJX Companies","TIAA","Sysco","Starbucks","Procter & Gamble","Oracle","Nike","Microsoft","McKesson Corporation","FedEx","Entrust","Dell Inc.","Cisco Systems","Cardinal Health","Best Buy","3D Systems","AAR Corp","Abbott Laboratories","AbbVie","Acronis","Acronis","Acumen Fund","Adobe","Adobe","Advanced Micro Devices","Advanced Micro Devices","Aerojet Rocketdyne Holdings","AGCO","Airbnb","Airbnb","Akamai Technologies","Akamai Technologies","Albertsons","Alexion Pharmaceuticals","Alliant Techsystems","Allstate","Alphabet Inc.","AM General","Amazon","Amazon","American Airlines Group","American International Group","American Liver Foundation","AmerisourceBergen","Amgen","Amphenol","Analog Devices","Analog Devices","Andeavor","Apple","Arby's","Archer Daniels Midland","Arconic","AT&T","Athersys","Autism Research Institute","Autodesk","Avaya","Aviation Capital Group","Back on My Feet","Baker Hughes","Ball Aerospace & Technologies","Ball Corporation","Banco Español de Puerto Rico","Bank of America","Bank of America","Bath & Body Works","Bausch & Lomb","Baxter International","BBN Holding","BEA Systems","BEA Systems","Bechtel","Berkshire Hathaway","BlackRock","Bloomberg L.P.","Bloomberg L.P.","Boeing","Boeing Commercial Airplanes","Booz Allen Hamilton","Breakthrough","Brink's","Bristol-Myers Squibb","Broadcom Inc.","Broadcom Inc.","Cancer Support Community","Cargill","Caterpillar Inc.","Caterpillar Inc.","Caterpillar Inc.","Cenikor Foundation","Centene Corporation","Charter Communications","Check 'n Go","Chemetco","Chevron Corporation","Chipotle Mexican Grill","CHS Inc.","Cigna","Citigroup","Citrix Systems","Cloudflare","CNHI","Code Ocean, Inc.","Coinbase","Comcast","ConeXware","ConocoPhillips","Corning Inc.","Costco","Cushman & Wakefield","CVS Health","CVS Health","Deere & Company","Delta Air Lines","Digimarc","Do Something","Dollar Tree","DonorsChoose","Dow Chemical Company","DXC Technology","eBay","Edison International","Educational Media Foundation","Elevance Health, Inc.","Embarcadero Technologies","Emmis Communications","Empire State Realty Trust","Endeavor","Energy Transfer Partners","Enron","Enterprise Community Partners","Enterprise Products","EPAM Systems","EPAM Systems","Equinix","Euclid Techlabs","Exagen Inc.","Exelis Inc.","Exelis Inc.","Exelon","Exide","ExOne","ExxonMobil","Fannie Mae","Far East Broadcasting Company","FEI Company","Fidelity Investments","Fiesta Restaurant Group","First Republic Bank","Flex Ltd.","Flex Ltd.","Fluor Corporation","Ford Motor Company","Foreign Policy Association","Forest Trends","Fortinet","Freddie Mac","Freedom from Hunger","Funko","Funko","GameStop","Gannett","Gannett","Gen Digital","General Atomics","General Dynamics","General Electric","Genesys","Gensler","Gilead Sciences","Gillette","Gillette","GlobalFoundries","GMV Innovating Solutions","GoDaddy","Goodyear Tire and Rubber Company","Groupon","Harris Corporation","Harris Corporation","Hasbro","HCA Corporation","Health Leads","Hearst Television","Hertz Global Holdings","Hewlett Packard Enterprise","Hewlett-Packard","Honeywell International, Inc.","Honorable Order of Kentucky Colonels","Hope International","HP Inc.","Humana","Humane Society of Huron Valley","Humane Society of Indianapolis","Huntington Ingalls Industries","IBM","Idaho Botanical Garden","Infinite Discs","Intel","Jacobs Engineering Group","Johnson & Johnson","JPMorgan Chase","Katahdin Productions","Kingston Technology","Koahnic Broadcast Corporation","Kodak","Kodak","Kohlberg Kravis Roberts","Kraft Heinz","Kroger","L3 Technologies","L3Harris Technologies","L3Harris Technologies","Lawyers Alliance for New York","Legg Mason","Lehman Brothers","Leidos","Lexington Institute","Liberty Mutual","Lionsgate","Lockheed Martin","Lubrizol","Mallinckrodt Pharmaceuticals","Mallinckrodt Pharmaceuticals","MannKind Corporation","Maranatha Volunteers International","Marathon Petroleum","Massachusetts Mutual Life Insurance Company","Mastercard","McDonald’s","McKinsey & Company","MedicAlert","Merck & Co.","Merrill","MetLife","Microchip Technology","Micron Technology","Minneapolis Jewish Federation","Mission Essential Personnel","MITRE Corporation","Moderna","Moog Inc.","Morgan Stanley","National Center for Law and Economic Justice","National Western Life","Nationwide Mutual Insurance Company","NCR Corporation","NCR Corporation","NetApp","Netlify","Network For Teaching Entrepreneurship","New York Life Insurance Company","New York Public Interest Research Group","News Corp","Nexstar Media Group","Northrop Grumman","Northwestern Mutual","Nucor","Nvidia","Old Dominion Freight Line","One Acre Fund","OneAmerica Financial Partners, Inc.","OptiNose (United States)","Oshkosh Corporation","Pacific Architects and Engineers","Partnership to End Addiction","PayPal","Penske Automotive Group","PepsiCo","Perma-Fix Environmental Services","Perspecta Inc.","Pfizer","Philip Morris International","Phillips 66","Plains All American Pipeline","Polycom","Potbelly Sandwich Shop","Pragmatics","Precision Castparts Corp.","Progressive Corporation","Prudential Financial","Quality Logo Products","Qualtrics","Quantum Corporation","Quiksilver, Inc.","Raytheon Company","Raytheon Technologies Corporation","Red Hat","Rockwell Collins","Roku, Inc.","Room to Read","RWE","S&P Global","S&P Global","Sabre Corporation","Samsara","Samsara","Schlumberger","Science Applications International Corporation","ServiceNow","Shared Interest","Sierra Nevada Corporation","Sirius XM","Skechers","Sky Island Alliance (United States)","Southwest Airlines","SRA International","SRI International","Staples Inc.","State Farm Insurance","State Street Corporation","Stifel","StoneX","Stratasys","Taco Cabana","Tahirih Justice Center","Taproot Foundation","TechniGraphics, Inc.","Teledyne Technologies","Telltale Games","Tesla, Inc.","The Angiogenesis Foundation","The Children's Place","The Coca-Cola Company","The Home Depot","The Travelers Companies","The Walt Disney Company","Thermo Fisher Scientific","Tidewater","Tipitina's Foundation","Tom Coughlin Jay Fund Foundation","Tower Cancer Research Foundation","Tri-State Transportation Campaign","Trimble","Trimble","Trinity Broadcasting Network","Triumph Group","Tyson Foods","U.S. Bancorp","U.S. Steel","Uber Technology","Ultralife Corporation","United Airlines Holdings","United Parcel Service","United Technologies Corporation","UnitedHealth Group","Upwardly Global","URS Corporation","USAA","Valero Energy Corporation","Vectrus (United States)","Verisign","Verizon","Viacom","ViaSat","Visa Inc.","VMware Inc.","WarnerMedia","WarnerMedia","Water For People","Wells Fargo","Western & Southern Financial Group","Western Union","Xerox","Xerox","Xerox","Xerox","XPO, Inc.","Yelp","Young & Reckless","Young & Reckless","Young Survival Coalition","Youth Radio","Yum China","Yum China","Zagg","Zoological Society of San Diego"],"headquarters_lat":[36.366666666,42.279166666,40.7,29.762777777,47.60621,39.1,30.3,45.486944444,47.669444444,32.811666666,35.1175,32.779166666,30.515,37.304166666,40.1092,44.883333333,34.938055555,41.9666369,42.3171549,42.3171549,1.3,"NA",40.7,37.304166666,53.349722222,37.35,37.368888888,38.589166666,34.003055555,37.7775,40.7,42.3,42.375,43.613611111,41.49899,38.880277777,42.1292,37.392777777,41.676388888,47.5,47.60621,32.756388888,40.7,40.7,40.074444444,34.189444444,41.45704,42.194444444,42.19454,29.425,37.3175,33.9375,41.8865,40.441666666,32.779166666,41.482222222,32.715,37.973611111,37.35,33.616666666,39.952777777,29.762777777,40.019444444,39.933333333,18.465555555,35.226944444,35.2278,39.962222222,43.165555555,42.168333333,37.81,37,37.304166666,37.7775,41.258611111,40.728333333,40.7,40.761805555,41.884111111,41.85003,38.9186,40.7,37.55,40.7,1.3,37.304166666,38.895,44.913333333,40.000277777,40.69365,42.168333333,29.762777777,38.626388888,41.096666666,39.2058,38.8244,37.78,39.67834,44.848055555,39.952777777,40.7207,37.3713315,37.7775,32.361666666,40.7,37.7775,39.952777777,38.954444444,29.762777777,42.1411,47.535555555,40.7,41.7,42.008333333,41.485833333,33.756944444,45.486944444,40.7,36.767398,40.7,43.615555555,38.9186,37.304166666,34.070555555,38.8,39.768611111,30.3,39.768611111,40.7,40.7,32.779166666,29.762777777,39.2156213,29.762777777,40.2283,41,37.482777777,39.0299081,33.193611111,38.9186,38.928333333,41.85003,34.1322,40.383333333,32.811666666,38.9364,"NA",45.523055555,42.360277777,32.779166666,37.7775,1.3,37.304166666,32.811666666,42.311330555,40.7,38.895,37.368888888,38.928333333,38.553888888,47.5,47.963333333,32.935,38.9186,38.928333333,33.425555555,32.715,38.882222222,42.360277777,37.686388888,37.7775,37.551388888,42.3,42.360277777,42.966666666,40.6065832,33.493055555,41.073055555,41.85003,28.08363,28.116666666,41.875555555,36.162222222,42.360277777,40.7,26.4276505,30.0542,37.429166666,35.226944444,38.239545,40.039722222,37.429166666,38.256111111,42.28138889,39.768611111,37.070833333,41.128611111,43.6012,"NA",37.35,32.785,40.486666666,40.7,37.870277777,33.708618,61.216666666,40.7,43.165555555,40.7,40.441666666,39.1,40.7,28.08363,28.116666666,40.7,39.286388888,40.7,38.954444444,38.880277777,42.360277777,34.021944444,38.9848265,41.6094,39.828175,53,34.389444444,38.575277777,41.042777777,42.112411,41.040555555,41.85003,40.7,37.505833333,40.6774,40.7,40.7,33.303333333,43.613611111,44.913333333,"NA",42.490555555,42.375,42.766944444,40.7,40.7,30.3,39.9685,33.756944444,48.368888888,37.368888888,37.7775,40.7,40.7,40.7,40.7,32.811666666,38.882222222,43.05,35.226944444,37.35,35.885833333,0.5666,39.768611111,40.2414,44.024166666,38.880277777,40.7,37.304166666,42.583611111,41.040555555,33.756944444,"NA",40.7,46.533333333,29.729,29.762777777,37.304166666,41.85003,38.954444444,45.516666666,41.54778,40.7335,41.76,40.233833333,37.304166666,33.692777777,42.380596,38.880277777,35.78,41.983333333,37.236111111,37.7775,51.450833333,40.7,40.758611111,32.9467,37.7775,51.507222222,29.762777777,38.9186,37.35,40.7,39.540472222,39,33.888888888,32.221666666,32.779166666,38.8631,37.454166666,42.360277777,40.484166666,42.360277777,38.626388888,"NA",44.854722222,29.425,38.882222222,37.7775,40.8092,34.189444444,37.973611111,30.3,42.375,40.7875,33.756944444,33.756944444,40.7,34.180277777,42.380596,29.762777777,29.95465,30.316666666,34.073055555,43,37,37.368888888,33.67,40.0456,36.181388888,44.981944444,40.441666666,37.7775,43.0467,41.85003,33.9375,41.763333333,44.913333333,37.7775,37.795135,29.425,29.425,39,38.954444444,40.7,40.757777777,33.158267,37.551388888,37.429166666,39,40.7,39.739166666,37.7775,39.1,39.739166666,41.093888888,41.6,43,43.165555555,41.02649,37.786819444,34.001111111,34.05223,40.7,37.8,31.166666666,33.05,40.707777777,32.715],"headquarters_lng":[-94.213333333,-71.416666666,-74,-95.383055555,-122.33207,-84.5125,-97.733333333,-122.803611111,-122.123888888,-96.950833333,-89.971111111,-96.808888888,-97.6725,-121.872777777,-83.1403,-93.283333333,-81.026111111,-87.9808041,-87.8594086,-87.8594086,103.8,"NA",-74,-121.872777777,-6.260277777,-121.966666666,-122.036944444,-121.302777777,-84.145555555,-122.416388888,-74,-71.8,-71.106111111,-116.237777777,-72.90066,-77.108333333,-87.8408,-122.041944444,-86.250277777,-120.5,-122.33207,-97.3325,-74,-74,-75.455,-118.875,-72.82316,-71.2,-71.1995,-98.493888888,-122.041944444,-84.368611111,-87.6305,-80,-96.808888888,-81.669722222,-117.1625,-122.531111111,-121.966666666,-117.8975,-75.163611111,-95.383055555,-105.292777777,-105.05,-66.118055555,-80.843333333,-80.843,-83.000555555,-77.611388888,-87.851388888,-122.37,-120,-121.872777777,-122.416388888,-95.9375,-73.994166666,-74,-73.968,-87.63875,-87.65005,-77.2297,-74,-77.4,-74,103.8,-121.872777777,-77.036666666,-93.503333333,-89.250277777,-89.58899,-87.851388888,-95.383055555,-90.199444444,-73.552222222,-84.3758,-90.0925,-121.978055555,-104.967682,-93.042777777,-75.163611111,-74.011,-121.9777999,-122.416388888,-86.279166666,-74,-122.416388888,-75.163611111,-77.346388888,-95.383055555,-77.0325,-122.043333333,-74,-71.5,-71.516111111,-90.499722222,-84.390277777,-122.803611111,-74,-76.287405,-74,-84.247222222,-77.2297,-121.872777777,-118.082222222,-121.246666666,-86.158055555,-97.733333333,-86.158055555,-74,-74,-96.808888888,-95.383055555,-76.8582049,-95.383055555,-74.9322,-77.5,-122.236111111,-76.9149547,-117.241111111,-77.2297,-77.175277777,-87.65005,-84.3007,-79.741388888,-96.950833333,-77.0521,"NA",-122.988333333,-71.057777777,-96.808888888,-122.416388888,103.8,-121.872777777,-96.950833333,-83.213480555,-74,-77.036666666,-122.036944444,-77.175277777,-121.738055555,-120.5,-122.200555555,-97.0858,-77.2297,-77.175277777,-111.94,-117.1625,-77.171111111,-71.057777777,-122.468333333,-122.416388888,-122.266388888,-71.8,-71.057777777,-73.8,-3.7065364,-111.926111111,-81.517777777,-87.65005,-80.60811,-80.633333333,-71.376111111,-86.774444444,-71.057777777,-74,-81.7950923,-95.3869,-122.138055555,-80.843333333,-85.754004,-76.304444444,-122.138055555,-85.751388888,-83.74833333,-86.158055555,-76.484444444,-73.707777777,-116.1612,"NA",-121.966666666,-96.797,-74.444444444,-74,-122.268055555,-117.956295,-149.893611111,-74,-77.611388888,-74,-80,-84.5125,-74,-80.60811,-80.633333333,-74,-76.615,-74,-77.346388888,-77.108333333,-71.057777777,-118.481388888,-77.0946459,-81.4728,-98.5795,-8,-118.564722222,-121.486111111,-83.642222222,-72.547455,-73.714444444,-87.65005,-74,-120.848888888,-74.2893,-74,-74,-111.841388888,-116.237777777,-93.503333333,"NA",-71.276666666,-71.106111111,-78.617222222,-74,-74,-97.733333333,-83.0024,-84.390277777,10.897777777,-122.036944444,-122.416388888,-74,-74,-74,-74,-96.950833333,-77.171111111,-87.95,-80.843333333,-121.966666666,-80.077222222,34.5666,-86.158055555,-74.8364,-88.561111111,-77.108333333,-74,-121.872777777,-83.245555555,-73.714444444,-84.390277777,"NA",-74,6.633333333,-95.564,-95.383055555,-121.872777777,-87.65005,-77.346388888,-122.666666666,-81.44333,-74.17106,-88.298611111,-111.658527777,-121.872777777,-117.999722222,-71.235005,-77.108333333,-78.64,-91.668611111,-121.961666666,-122.416388888,7.013055555,-74,-73.979194444,-97.1453,-122.416388888,-0.1275,-95.383055555,-77.2297,-121.966666666,-74,-119.748722222,-75.5,-118.405277777,-110.926388888,-96.808888888,-77.3819,-122.178611111,-71.057777777,-88.993611111,-71.057777777,-90.199444444,"NA",-93.470833333,-98.493888888,-77.171111111,-122.416388888,-81.9372,-118.875,-122.531111111,-97.733333333,-71.106111111,-74.061666666,-84.390277777,-84.390277777,-74,-118.328333333,-71.235005,-95.383055555,-90.07507,-81.65,-118.399444444,-75,-120,-122.036944444,-117.91,-75.4394,-94.145833333,-93.269166666,-80,-122.416388888,-77.0953,-87.65005,-84.368611111,-72.685,-93.503333333,-122.416388888,-122.402748,-98.493888888,-98.493888888,-105.5,-77.346388888,-74,-73.986388888,-117.350996,-122.266388888,-122.138055555,-75.5,-74,-104.984722222,-122.416388888,-84.5125,-104.984722222,-73.419722222,-72.7,-75,-77.611388888,-73.62846,-122.399905555,-118.211111111,-118.24368,-74,-122.25,121.466666666,-96.75,-111.889166666,-117.1625],"year_2019":[514405000000,null,41052000000,null,null,67684000000,null,null,125843000000,null,null,4444744,91324000000,51904000000,145534000000,null,629000000,null,31904000000,33266000000,null,null,30966848,null,null,6480000000,6480000000,null,null,null,null,null,null,62455100000,4991100000,null,41541000000,161857000000,null,280522000000,280522000000,null,49746000000,8851289,null,null,null,null,null,null,260174000000,10803268,64656000000,null,181193000000,5633000,1213743,null,null,1194341000,7194449,null,null,null,null,91244000000,91244000000,null,null,null,null,null,null,null,254616000000,null,10000000000,10000000000,76559000000,null,5140000000,5319308,null,25174000000,null,null,11009880,null,53800000000,53800000000,53800000000,47104891,74639000000,45764000000,null,null,146516000000,null,31900453000,153566000000,103449000000,null,null,520,null,533735000,108942000000,null,36670000000,null,152703000000,null,256776000000,256776000000,39258000000,null,22987000,13704712,null,150006093,42951000000,null,null,null,201253093,104213000000,null,114131000,null,9295103,54213000000,null,76272619,32789200000,2290000000,2290000000,5562000000,null,null,null,null,34438000000,null,53276000,264938000000,122840000000,12137534,null,null,660943000,3300000000,null,null,17317284000,null,null,10536571,null,72895000000,null,null,null,null,1.86,1.86,2456000000,null,39350000000,90221000000,null,null,22449000000,null,null,5812788000,236850172.91,null,null,2218915000,null,null,null,51336000000,6188987,null,9779000000,null,null,5330000000,3329395,19135745,58756000000,null,8356151,8197446,7740000000,null,1614515,null,71965000000,null,82059000000,142194000000,922421,12800000000,2834958,null,null,null,null,122286000000,null,13920000000,13920000000,6147338,null,null,5330000000,1877435,null,null,53230000000,null,null,null,63038000,12624888,111148000000,null,null,null,null,1422414,39121000000,null,69620000000,null,null,35831596,null,null,60209000,null,41538000000,1723827,null,49300000000,null,null,null,6500000,9125811,34499000000,4746822,null,null,33841000000,29855000000,22588858000,11716000000,null,163511882,4304316,null,null,null,null,null,null,67161000000,73459000,null,40905000000,null,109559000000,33669000000,null,409707000,null,null,39022300000,64807000000,45000000,null,402680000,null,[25320000000,29176000000],45349000000,null,null,null,59837695,null,null,null,null,300000000,300000000,null,null,3460437000,1585044,null,null,null,750716,null,null,null,null,79400000000,null,3514961000,32897000000,636080000,297470000,null,4527173,null,null,null,null,2456629,10782818,37266000000,110225000000,31581000000,null,25542000000,486550000,null,3804662,3739380,978128,null,null,81522170,null,42405000000,null,12937000000,null,106795000,null,74094000000,13100000000,242155000000,6750061,null,35617000000,108324000000,null,null,131868000000,null,null,null,8974000000,null,null,19381463,85063000000,null,5292100000,null,null,null,null,null,null,null,null,3201205,5836836,null,null,521922000,422092199],"year_2020":[523964000000,41716977000,40454000000,52893310000,null,70950000000,39068000000,37403000000,143015000000,231051000000,69217000000,3855807,92154000000,null,152922000000,43638000000,null,null,34608000000,45804000000,null,null,null,null,null,9763000000,9763000000,null,null,3378199000,3378199000,3198149000,3198149000,69690400000,6069900000,null,41909000000,182527000000,null,386064000000,386064000000,null,43736000000,null,189893926000,null,null,null,null,null,274515000000,null,64355000000,null,171760000000,null,null,null,null,1010788000,null,null,null,null,null,85528000000,85528000000,null,null,null,1280000,null,null,null,245510000000,null,null,null,58158000000,null,null,null,null,41321000000,null,null,null,null,41748000000,41748000000,41748000000,null,111115000000,48097000000,null,null,94692000000,null,28406365000,160401000000,88839000000,3236700000,null,null,283919,1277481000,103564000000,null,19256000000,null,166761000000,null,268706000000,268706000000,35540000000,null,null,8284413,null,148898158,38542000000,null,null,null,null,121867000000,null,null,null,null,38954000000,null,null,27199700000,null,null,null,null,42000000,null,null,33039000000,null,null,181502000000,109451000000,12071951,null,null,null,3900000000,null,null,15668477000,127144000000,4086810,11941768,null,62340000000,null,null,null,null,null,null,2490000000,null,37925000000,75833000000,21991000,null,null,null,null,4850505000,null,null,null,1416868000,null,null,null,51533000000,null,null,null,null,null,null,3774310,null,56639000000,77155000000,null,8998913,null,55179000000,1554023,2840000,77867000000,null,82584000000,129503000000,null,null,2801638,null,null,42300000000,null,132498000000,null,null,null,3757057,null,null,null,null,43796000000,5700000000,65398000000,null,null,null,null,null,69779000000,null,15301000000,19207800000,10600000000,1445162,41518000000,null,67842000000,null,null,null,null,null,null,null,48757000000,null,null,46600000000,null,null,null,21600000,11612715,32054000000,2769371,null,4.5,36799000000,31124000000,20139658000,10918000000,4015000000,null,null,34631000,null,null,null,21454000000,null,70372000000,null,null,41651000000,null,65494000000,23290000000,null,null,null,null,42658100000,57033000000,null,null,null,null,null,56587000000,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,78900000000,null,3817839000,54139600000,null,null,null,null,null,null,null,31536000000,1086330,null,33014000000,132110000000,31981000000,65388000000,32218000000,397040000,null,null,null,763173,null,null,null,null,43185000000,23325000000,null,null,null,null,84628000000,null,257141000000,null,null,36296000000,64912000000,null,null,128292000000,25285000000,null,21846000000,null,null,null,22811392,72340000000,null,4835000000,null,null,null,null,null,null,null,null,2665827,null,null,null,null,null],"year_2021":[559151000000,32136962000,41619000000,51297843000,29060600000,76118000000,40479000000,44538000000,168088000000,238228000000,83959000000,null,94224000000,49818000000,162467000000,47262000000,null,null,43075000000,56197000000,null,null,null,15785000000,15785000000,16434000000,16434000000,null,11138000000,null,null,null,null,71887000000,6100000000,null,50588000000,257637000000,null,469822000000,469822000000,null,52057000000,null,213988843000,null,null,null,null,null,365817000000,null,85249000000,null,168864000000,null,null,3790400000,null,null,null,null,null,null,null,89113000000,89113000000,null,null,null,null,null,null,null,276094000000,19374000000,null,null,62286000000,null,null,null,null,45055000000,27450000000,27450000000,null,null,50971000000,50971000000,50971000000,null,125982000000,51682000000,null,null,162465000000,null,38448033000,174078000000,79865000000,null,656426000,null,null,null,116385000000,11000000,48349000000,null,195929000000,null,292111000000,292111000000,44024000000,null,null,null,null,null,54968000000,null,null,null,null,138639000000,null,null,null,null,67417000000,null,null,40806900000,null,null,null,3500000,null,null,null,36347000000,null,null,285640000000,100328000000,null,null,null,null,5000000000,null,null,null,136341000000,null,null,null,61527000000,null,null,null,5089800000,null,null,null,null,38469000000,74196000000,null,null,null,null,null,6585079000,null,null,null,967108000,null,null,6420600000,58752000000,null,null,null,27800000000,null,34392000000,null,null,63487000000,83064000000,null,null,null,57350000000,null,null,79024000000,null,93775000000,127202000000,null,null,null,null,null,null,26042000000,137888000000,null,null,null,null,null,null,null,null,48200000000,null,67044000000,null,null,null,null,null,119983000000,null,null,null,null,null,48704000000,null,71080000000,5440000000,null,null,null,null,null,null,59755000000,null,null,52900000000,null,null,null,null,null,40467000000,null,null,null,35667000000,34032000000,36483939000,null,null,null,null,null,null,null,null,null,null,79474000000,null,null,81288000000,null,114852000000,42078000000,null,null,null,null,47702000000,70934000000,null,1080000000,null,null,null,64388000000,null,null,null,null,24526000000,null,null,1688880000,null,null,null,null,null,null,null,8.7,null,null,null,null,null,null,82200000000,null,null,40961600000,null,null,null,null,null,null,null,53823000000,null,null,38655000000,151157000000,34816000000,67418000000,39211000000,null,null,null,null,null,null,null,null,null,47049000000,null,null,null,null,null,97287000000,null,287597000000,null,null,37470000000,113977000000,null,null,133613000000,null,null,24105000000,11770000000,null,null,null,78492000000,5392160000,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"year_2022":[572754000000,48549982000,40526400000,68636146000,32000000000,80187000000,42440000000,46710000000,198270000000,263966000000,93512000000,800000000,101197000000,51557000000,181364000000,51761000000,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},"columns":[{"id":"enterprise","name":"enterprise","type":"character"},{"id":"headquarters_lat","name":"headquarters_lat","type":"numeric"},{"id":"headquarters_lng","name":"headquarters_lng","type":"numeric"},{"id":"year_2019","name":"year_2019","type":"list"},{"id":"year_2020","name":"year_2020","type":"list"},{"id":"year_2021","name":"year_2021","type":"list"},{"id":"year_2022","name":"year_2022","type":"list"}],"dataKey":"8b6e8519eb0d34b987bd1393fdf8ae2b"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>